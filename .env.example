# =====================================================
# WhatsApp SaaS Chatbot - Environment Variables
# =====================================================
# Copy this file to .env.local and fill in the values

# =====================================================
# SUPABASE CONFIGURATION
# =====================================================
# Your Supabase project URL
# Find at: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anonymous Key (safe to use in browser)
# Find at: https://app.supabase.com/project/_/settings/api
# This key has Row Level Security (RLS) restrictions
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Service Role Key (NEVER expose to browser)
# Find at: https://app.supabase.com/project/_/settings/api
# WARNING: This key bypasses RLS - only use in API routes
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =====================================================
# POSTGRESQL CONFIGURATION (for direct database access)
# =====================================================
# RECOMMENDED: Use direct connection URL for serverless environments (Vercel)
# This avoids connection pooling issues in Lambda/serverless functions
# Find at: https://app.supabase.com/project/_/settings/database
# Use the "Connection string" under "Direct connection" (NOT "Connection pooling")
POSTGRES_URL_NON_POOLING=postgresql://postgres.xxx:[YOUR-PASSWORD]@xxx.supabase.co:5432/postgres

# Alternative: Manual configuration (only if not using POSTGRES_URL_NON_POOLING)
# POSTGRES_HOST=db.xxx.supabase.co
# POSTGRES_USER=postgres.xxx
# POSTGRES_PASSWORD=your-password
# POSTGRES_DATABASE=postgres

# =====================================================
# N8N WEBHOOKS (OPTIONAL - FOR PHASE 2 COMMANDS)
# =====================================================
# Base URL of your n8n instance
# Example: https://n8n.yourdomain.com or http://localhost:5678
N8N_WEBHOOK_BASE_URL=https://your-n8n-instance.com

# Webhook path for sending manual messages
# This webhook should be created in your n8n workflow
# Default: /webhook/send-message
N8N_SEND_MESSAGE_WEBHOOK=/webhook/send-message

# Webhook path for transferring conversation to human
# This webhook should be created in your n8n workflow
# Default: /webhook/transfer-human
N8N_TRANSFER_HUMAN_WEBHOOK=/webhook/transfer-human

# =====================================================
# EXTERNAL SERVICES (REQUIRED FOR WEBHOOK PROCESSING)
# =====================================================
# Redis URL for message batching
# Example: redis://localhost:6379 or redis://user:pass@host:port
REDIS_URL=redis://localhost:6379

# OpenAI API Key for Whisper, GPT-4o Vision, and Embeddings
# Find at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Groq API Key for Llama 3.3 70B chat completions
# Find at: https://console.groq.com/keys
GROQ_API_KEY=gsk_...

# Meta WhatsApp Business API
# Find at: https://developers.facebook.com/apps
META_ACCESS_TOKEN=EAAxxxxxxxxxxxxx
META_PHONE_NUMBER_ID=899639703222013

# Gmail for email notifications (human handoff)
# Use App Password if 2FA is enabled
# Guide: https://support.google.com/accounts/answer/185833
GMAIL_USER=your-email@gmail.com
GMAIL_PASSWORD=your-app-password

# =====================================================
# OPTIONAL CONFIGURATION
# =====================================================
# Next Auth (if implementing authentication in future)
# NEXTAUTH_URL=http://localhost:3000
# NEXTAUTH_SECRET=your-secret-here

# Node environment
# NODE_ENV=development

# =====================================================
# NOTES
# =====================================================
# 1. Never commit .env.local to git
# 2. Service role key should only be used in API routes
# 3. All NEXT_PUBLIC_* variables are exposed to the browser
# 4. For production, use environment variables in Vercel dashboard
# 5. Run `npm run dev` after creating .env.local
# 6. For Vercel deployments, use POSTGRES_URL_NON_POOLING (direct connection)
#    to avoid connection pooling issues in serverless environments
